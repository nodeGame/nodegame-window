<!DOCTYPE html>
<html>
<head>
  <title>extra.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = '../../', thisFile = 'lib/modules/extra.js', defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
      <div class="heading h1">
        <a href="#extra">extra</a>
      </div>
      <div class="heading h3">
        <a href="#gamewindow.getscreen">GameWindow.getScreen</a>
      </div>
      <div class="heading h3">
        <a href="#gamewindow.write">GameWindow.write</a>
      </div>
      <div class="heading h3">
        <a href="#gamewindow.writeln">GameWindow.writeln</a>
      </div>
      <div class="heading h3">
        <a href="#gamewindow.generateuniqueid">GameWindow.generateUniqueId</a>
      </div>
      <div class="heading h3">
        <a href="#gamewindow.toggleinputs">GameWindow.toggleInputs</a>
      </div>
      <div class="heading h3">
        <a href="#gamewindow.getloadingdots">GameWindow.getLoadingDots</a>
      </div>
      <div class="heading h3">
        <a href="#gamewindow.addloadingdots">GameWindow.addLoadingDots</a>
      </div>
      <div class="heading h3">
        <a href="#gamewindow.geteventbutton">GameWindow.getEventButton</a>
      </div>
      <div class="heading h3">
        <a href="#gamewindow.addeventbutton">GameWindow.addEventButton</a>
      </div>
      <div class="heading h3">
        <a href="#gamewindow.searchreplace">GameWindow.searchReplace</a>
      </div>
      <div class="heading h3">
        <a href="#gamewindow.setinnerhtml">GameWindow.setInnerHTML</a>
      </div>
      <div class="heading h2">
        <a href="#gamewindow.hide">GameWindow.hide</a>
      </div>
      <div class="heading h2">
        <a href="#gamewindow.show">GameWindow.show</a>
      </div>
      <div class="heading h2">
        <a href="#gamewindow.toggle">GameWindow.toggle</a>
      </div>
      <div class="heading h2">
        <a href="#helper-functions">Helper Functions</a>
      </div>
      <div class="heading h3">
        <a href="#toggleinputs">toggleInputs</a>
      </div>
      <div class="heading h3">
        <a href="#getelement">getElement</a>
      </div>
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="extra">
  <h1>
    <a href="#extra" class="pilcrow">&#182;</a>
    extra
  </h1>
</div>


<p>Copyright(c) 2017 Stefano Balietti
MIT Licensed</p>
  </div>
  <div class="body"><p>GameWindow extras</p>

<p><a href='http://www.nodegame.org'>http://www.nodegame.org</a></p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><span></span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span> <span class="nx">node</span><span class="p">)</span> <span class="p">{</span>

    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">GameWindow</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">GameWindow</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">DOM</span> <span class="o">=</span> <span class="nx">J</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;DOM&#39;</span><span class="p">);</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gamewindow.getscreen">
  <h3>
    <a href="#gamewindow.getscreen" class="pilcrow">&#182;</a>
    GameWindow.getScreen
  </h3>
</div>

  </div>
  <div class="body"><p>Returns the "screen" of the game</p>

<p>i.e. the innermost element inside which to display content</p>

<p>In the following order the screen can be:</p>

<ul>
<li>the body element of the iframe</li>
<li>the document element of the iframe</li>
<li>the body element of the document</li>
<li>the last child element of the document</li>
</ul>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Element</span>
      <span>The screen</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="nx">GameWindow</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getScreen</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">el</span><span class="p">;</span>
        <span class="nx">el</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getFrameDocument</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">el</span><span class="p">)</span> <span class="nx">el</span> <span class="o">=</span> <span class="nx">el</span><span class="p">.</span><span class="nx">body</span> <span class="o">||</span> <span class="nx">el</span><span class="p">;</span>
        <span class="k">else</span> <span class="nx">el</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span> <span class="o">||</span> <span class="nb">document</span><span class="p">.</span><span class="nx">lastElementChild</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">el</span><span class="p">;</span>
    <span class="p">};</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gamewindow.write">
  <h3>
    <a href="#gamewindow.write" class="pilcrow">&#182;</a>
    GameWindow.write
  </h3>
</div>

  </div>
  <div class="body"><p>Appends content inside a root element</p>

<p>The content can be a text string, an HTML node or element.
If no root element is specified, the default screen is used.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">text</span>
      <span class="dox_type">string</span>
      <span class="dox_type">object</span>
      <span>The content to write</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">root</span>
      <span class="dox_type">Element</span>
      <span class="dox_type">string</span>
      <span>Optional. The root element or its id</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span class="dox_type">object</span>
      <span>The content written</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameWindow.writeln
  </span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="nx">GameWindow</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">write</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">root</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;string&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">root</span><span class="p">)</span> <span class="nx">root</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">root</span><span class="p">);</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">root</span><span class="p">)</span> <span class="nx">root</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getScreen</span><span class="p">();</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">root</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span>
                <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;GameWindow.write: could not determine where to write.&#39;</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">DOM</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">root</span><span class="p">,</span> <span class="nx">text</span><span class="p">);</span>
    <span class="p">};</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gamewindow.writeln">
  <h3>
    <a href="#gamewindow.writeln" class="pilcrow">&#182;</a>
    GameWindow.writeln
  </h3>
</div>

  </div>
  <div class="body"><p>Appends content inside a root element followed by a break element</p>

<p>The content can be a text string, an HTML node or element.
If no root element is specified, the default screen is used.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">text</span>
      <span class="dox_type">string</span>
      <span class="dox_type">object</span>
      <span>The content to write</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">root</span>
      <span class="dox_type">Element</span>
      <span class="dox_type">string</span>
      <span>Optional. The root element or its id</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span class="dox_type">object</span>
      <span>The content written</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameWindow.write
  </span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="nx">GameWindow</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">writeln</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">root</span><span class="p">,</span> <span class="nx">br</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;string&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">root</span><span class="p">)</span> <span class="nx">root</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">root</span><span class="p">);</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">root</span><span class="p">)</span> <span class="nx">root</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getScreen</span><span class="p">();</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">root</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;GameWindow.writeln: &#39;</span> <span class="o">+</span>
                            <span class="s1">&#39;could not determine where to write.&#39;</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">DOM</span><span class="p">.</span><span class="nx">writeln</span><span class="p">(</span><span class="nx">root</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">br</span><span class="p">);</span>
    <span class="p">};</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gamewindow.generateuniqueid">
  <h3>
    <a href="#gamewindow.generateuniqueid" class="pilcrow">&#182;</a>
    GameWindow.generateUniqueId
  </h3>
</div>

  </div>
  <div class="body"><p>Generates a unique id</p>

<p>Overrides JSUS.DOM.generateUniqueId.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">prefix</span>
      <span class="dox_type">string</span>
      <span>Optional. The prefix to use</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>The generated id</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="nx">GameWindow</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">generateUniqueId</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">prefix</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">found</span><span class="p">;</span>

        <span class="nx">id</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">prefix</span> <span class="o">||</span> <span class="nx">J</span><span class="p">.</span><span class="nx">randomInt</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">));</span>
        <span class="nx">found</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

        <span class="k">while</span> <span class="p">(</span><span class="nx">found</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">id</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="o">+</span> <span class="nx">prefix</span> <span class="o">+</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="nx">J</span><span class="p">.</span><span class="nx">randomInt</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
            <span class="nx">found</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">id</span><span class="p">;</span>
    <span class="p">};</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gamewindow.toggleinputs">
  <h3>
    <a href="#gamewindow.toggleinputs" class="pilcrow">&#182;</a>
    GameWindow.toggleInputs
  </h3>
</div>

  </div>
  <div class="body"><p>Enables / disables the input forms</p>

<p>If an id is provided, only input elements that are children
of the element with the specified id are toggled.</p>

<p>If id is not given, it toggles the input elements on the whole page,
including the frame document, if found.</p>

<p>If a state parameter is given, all the input forms will be either
disabled or enabled (and not toggled).</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">id</span>
      <span class="dox_type">string</span>
      <span>Optional. The id of the element container
  of the forms. Default: the whole page, including the frame document</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">disabled</span>
      <span class="dox_type">boolean</span>
      <span>Optional. Forces all the inputs to be either
  disabled or enabled (not toggled)</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">boolean</span>
      <span>FALSE, if the method could not be executed</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameWindow.getFrameDocument</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">toggleInputs
  </span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="nx">GameWindow</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toggleInputs</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">disabled</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">container</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">node</span><span class="p">.</span><span class="nx">err</span><span class="p">(</span>
                <span class="s1">&#39;GameWindow.toggleInputs: getElementsByTagName not found.&#39;</span><span class="p">);</span>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">id</span> <span class="o">&amp;&amp;</span> <span class="s1">&#39;string&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;GameWindow.toggleInputs: id must be string or &#39;</span> <span class="o">+</span>
                            <span class="s1">&#39;undefined.&#39;</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">container</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">container</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;GameWindow.toggleInputs: no elements found &#39;</span> <span class="o">+</span>
                                <span class="s1">&#39;with id &#39;</span> <span class="o">+</span> <span class="nx">id</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="nx">toggleInputs</span><span class="p">(</span><span class="nx">disabled</span><span class="p">,</span> <span class="nx">container</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7">&#182;</a>
</div>
<p>The whole page.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>            <span class="nx">toggleInputs</span><span class="p">(</span><span class="nx">disabled</span><span class="p">);</span>
            <span class="nx">container</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getFrameDocument</span><span class="p">();</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8">&#182;</a>
</div>
<p>If there is a frame, apply it there too.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>            <span class="k">if</span> <span class="p">(</span><span class="nx">container</span><span class="p">)</span> <span class="nx">toggleInputs</span><span class="p">(</span><span class="nx">disabled</span><span class="p">,</span> <span class="nx">container</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">};</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gamewindow.getloadingdots">
  <h3>
    <a href="#gamewindow.getloadingdots" class="pilcrow">&#182;</a>
    GameWindow.getLoadingDots
  </h3>
</div>

  </div>
  <div class="body"><p>Creates and returns a span element with incrementing dots inside</p>

<p>New dots are added every second until the limit is reached, then it
starts from the beginning.</p>

<p>Gives the impression of a loading time.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">len</span>
      <span class="dox_type">number</span>
      <span>Optional. The maximum length of the loading dots.
  Default: 5</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">id</span>
      <span class="dox_type">string</span>
      <span>Optional The id of the span</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">object</span>
      <span>An object containing two properties: the span element
  and a method stop, that clears the interval</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="nx">GameWindow</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getLoadingDots</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">len</span><span class="p">,</span> <span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">spanDots</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">limit</span><span class="p">,</span> <span class="nx">intervalId</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">len</span> <span class="o">&amp;</span> <span class="nx">len</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;GameWindow.getLoadingDots: len cannot be &lt; 0. &#39;</span> <span class="o">+</span>
                            <span class="s1">&#39;Found: &#39;</span> <span class="o">+</span> <span class="nx">len</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">len</span> <span class="o">=</span> <span class="nx">len</span> <span class="o">||</span> <span class="mi">5</span><span class="p">;</span>
        <span class="nx">spanDots</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">);</span>
        <span class="nx">spanDots</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span> <span class="o">||</span> <span class="s1">&#39;span_dots&#39;</span><span class="p">;</span>
        <span class="nx">limit</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">limit</span> <span class="o">=</span> <span class="nx">limit</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span><span class="p">;</span>
        <span class="p">}</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10">&#182;</a>
</div>
<p>Refreshing the dots...</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>        <span class="nx">intervalId</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">spanDots</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">!==</span> <span class="nx">limit</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">spanDots</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">spanDots</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="nx">spanDots</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>

        <span class="kd">function</span> <span class="nx">stop</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">spanDots</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span><span class="p">;</span>
            <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">intervalId</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="nx">span</span><span class="o">:</span> <span class="nx">spanDots</span><span class="p">,</span>
            <span class="nx">stop</span><span class="o">:</span> <span class="nx">stop</span>
        <span class="p">};</span>
    <span class="p">};</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gamewindow.addloadingdots">
  <h3>
    <a href="#gamewindow.addloadingdots" class="pilcrow">&#182;</a>
    GameWindow.addLoadingDots
  </h3>
</div>

  </div>
  <div class="body"><p>Appends <em>loading dots</em> to an HTML element</p>

<p>By invoking this method you lose access to the <em>stop</em> function of the
<em>loading dots</em> element.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">root</span>
      <span class="dox_type">HTMLElement</span>
      <span>The element to which the loading dots will be
  appended</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">len</span>
      <span class="dox_type">number</span>
      <span>Optional. The maximum length of the loading dots.
  Default: 5</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">id</span>
      <span class="dox_type">string</span>
      <span>Optional The id of the span</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">object</span>
      <span>An object containing two properties: the span element
  and a method stop, that clears the interval</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameWindow.getLoadingDots
  </span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="nx">GameWindow</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addLoadingDots</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">root</span><span class="p">,</span> <span class="nx">len</span><span class="p">,</span> <span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">ld</span><span class="p">;</span>
        <span class="nx">ld</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getLoadingDots</span><span class="p">(</span><span class="nx">len</span><span class="p">,</span> <span class="nx">id</span><span class="p">);</span>
        <span class="nx">root</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">ld</span><span class="p">.</span><span class="nx">span</span><span class="p">);</span>
        <span class="k">return</span> <span class="nx">ld</span><span class="p">;</span>
    <span class="p">};</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gamewindow.geteventbutton">
  <h3>
    <a href="#gamewindow.geteventbutton" class="pilcrow">&#182;</a>
    GameWindow.getEventButton
  </h3>
</div>

  </div>
  <div class="body"><p>Creates an HTML button element that will emit an event when clicked</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">event</span>
      <span class="dox_type">string</span>
      <span>The event to emit when clicked</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">attributes</span>
      <span class="dox_type">string</span>
      <span class="dox_type">object</span>
      <span>Optional. The attributes of the
  button, or if string the text to display inside the button.</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Element</span>
      <span>The newly created button</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameWindow.get
  </span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="nx">GameWindow</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getEventButton</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">b</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;string&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s1">&#39;GameWindow.getEventButton: event must &#39;</span> <span class="o">+</span>
                                <span class="s1">&#39;be string. Found: &#39;</span> <span class="o">+</span> <span class="nx">event</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;string&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">attributes</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">attributes</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">innerHTML</span><span class="o">:</span> <span class="nx">attributes</span> <span class="p">};</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">attributes</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">attributes</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">)</span> <span class="nx">attributes</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">event</span><span class="p">;</span>
        <span class="nx">b</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;button&#39;</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">);</span>
        <span class="nx">b</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">node</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span> <span class="p">};</span>
        <span class="k">return</span> <span class="nx">b</span><span class="p">;</span>
    <span class="p">};</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gamewindow.addeventbutton">
  <h3>
    <a href="#gamewindow.addeventbutton" class="pilcrow">&#182;</a>
    GameWindow.addEventButton
  </h3>
</div>

  </div>
  <div class="body"><p>Adds an EventButton to the specified root element</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">event</span>
      <span class="dox_type">string</span>
      <span>The event to emit when clicked</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">root</span>
      <span class="dox_type">Element</span>
      <span>Optional. The root element. Default: last element
on the page</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">attributes</span>
      <span class="dox_type">string</span>
      <span class="dox_type">object</span>
      <span>Optional. The attributes of the
  button, or if string the text to display inside the button.</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Element</span>
      <span>The newly created button</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameWindow.get</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameWindow.getEventButton
  </span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="nx">GameWindow</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addEventButton</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">root</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">eb</span><span class="p">;</span>
        <span class="nx">eb</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEventButton</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">root</span><span class="p">)</span> <span class="nx">root</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getScreen</span><span class="p">();</span>
        <span class="k">return</span> <span class="nx">root</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">eb</span><span class="p">);</span>
    <span class="p">};</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gamewindow.searchreplace">
  <h3>
    <a href="#gamewindow.searchreplace" class="pilcrow">&#182;</a>
    GameWindow.searchReplace
  </h3>
</div>

  </div>
  <div class="body"><p>Replaces the innerHTML of the element/s with matching id or class name</p>

<p>It iterates through each element and passes it to
<code>GameWindow.setInnerHTML</code>.</p>

<p>If elements is array, each item in the array must be of the type:</p>


<div class="highlight"><pre><code><span></span>  <span class="p">{</span> <span class="nx">search</span><span class="o">:</span> <span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="nx">replace</span><span class="o">:</span> <span class="s1">&#39;value&#39;</span> <span class="p">}</span>

  <span class="c1">// or</span>

  <span class="p">{</span> <span class="nx">search</span><span class="o">:</span> <span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="nx">replace</span><span class="o">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="nx">mod</span><span class="o">:</span> <span class="s1">&#39;id&#39;</span> <span class="p">}</span>
</code></pre></div>



<p>If elements is object, it must be of the type:</p>


<div class="highlight"><pre><code><span></span>   <span class="p">{</span>
     <span class="nx">search1</span><span class="o">:</span> <span class="nx">value1</span><span class="p">,</span> <span class="nx">search2</span><span class="o">:</span> <span class="nx">value</span> <span class="mi">2</span> <span class="c1">// etc.</span>
   <span class="p">}</span>
</code></pre></div>



<p>It accepts a variable number of input parameters. The first is always
<em>elements</em>. If there are 2 input parameters, the second is <em>prefix</em>,
while if there are 3 input parameters, the second is <em>mod</em> and the third
is <em>prefix</em>.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">Elements</span>
      <span class="dox_type">object</span>
      <span class="dox_type">array</span>
      <span>to search and replace</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">mod</span>
      <span class="dox_type">string</span>
      <span>Optional. Modifier passed to GameWindow.setInnerHTML</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">prefix</span>
      <span class="dox_type">string</span>
      <span>Optional. Prefix added to the search string.
   Default: 'ng_replace_', null or '' equals no prefix.</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameWindow.setInnerHTML
  </span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="nx">GameWindow</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">searchReplace</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">elements</span><span class="p">,</span> <span class="nx">mod</span><span class="p">,</span> <span class="nx">prefix</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">len</span><span class="p">,</span> <span class="nx">i</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">mod</span> <span class="o">=</span> <span class="s1">&#39;g&#39;</span><span class="p">;</span>
            <span class="nx">prefix</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">mod</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
            <span class="nx">prefix</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">prefix</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">prefix</span> <span class="o">=</span> <span class="s1">&#39;ng_replace_&#39;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="kc">null</span> <span class="o">===</span> <span class="nx">prefix</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">prefix</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;string&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nx">prefix</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s1">&#39;GameWindow.searchReplace: prefix &#39;</span> <span class="o">+</span>
                                <span class="s1">&#39;must be string, null or undefined. Found: &#39;</span> <span class="o">+</span>
                                <span class="nx">prefix</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">elements</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">J</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">elements</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="o">++</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span> <span class="p">;</span> <span class="p">)</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">setInnerHTML</span><span class="p">(</span><span class="nx">prefix</span> <span class="o">+</span> <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">search</span><span class="p">,</span>
                                  <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">replace</span><span class="p">,</span>
                                  <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">mod</span> <span class="o">||</span> <span class="nx">mod</span><span class="p">);</span>
            <span class="p">}</span>

        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;object&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nx">elements</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="nx">name</span> <span class="k">in</span> <span class="nx">elements</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">elements</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">name</span><span class="p">))</span> <span class="p">{</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">setInnerHTML</span><span class="p">(</span><span class="nx">prefix</span> <span class="o">+</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">elements</span><span class="p">[</span><span class="nx">name</span><span class="p">],</span> <span class="nx">mod</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s1">&#39;GameWindow.setInnerHTML: elements must be &#39;</span> <span class="o">+</span>
                                <span class="s1">&#39;object or arrray. Found: &#39;</span> <span class="o">+</span> <span class="nx">elements</span><span class="p">);</span>
        <span class="p">}</span>

    <span class="p">};</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gamewindow.setinnerhtml">
  <h3>
    <a href="#gamewindow.setinnerhtml" class="pilcrow">&#182;</a>
    GameWindow.setInnerHTML
  </h3>
</div>

  </div>
  <div class="body"><p>Replaces the innerHTML of the element with matching id or class name</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">search</span>
      <span class="dox_type">string</span>
      <span class="dox_type">number</span>
      <span>Element id or className</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">replace</span>
      <span class="dox_type">string</span>
      <span class="dox_type">number</span>
      <span>The new value of the property innerHTML</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">mod</span>
      <span class="dox_type">string</span>
      <span>Optional. A modifier defining how to use the
   search parameter. Values:

<ul>
<li>'id': replaces at most one element with the same id (default)</li>
<li>'className': replaces all elements with same class name</li>
<li>'g': replaces globally, both by id and className</li>
</ul></span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="nx">GameWindow</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setInnerHTML</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">search</span><span class="p">,</span> <span class="nx">replace</span><span class="p">,</span> <span class="nx">mod</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">el</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">len</span><span class="p">;</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16">&#182;</a>
</div>
<p>Only process strings or numbers.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;string&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nx">search</span> <span class="o">&amp;&amp;</span> <span class="s1">&#39;number&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nx">search</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s1">&#39;GameWindow.setInnerHTML: search must be &#39;</span> <span class="o">+</span>
                                <span class="s1">&#39;string or number. Found: &#39;</span> <span class="o">+</span> <span class="nx">search</span><span class="p">);</span>
        <span class="p">}</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17">&#182;</a>
</div>
<p>Only process strings or numbers.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;string&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nx">replace</span> <span class="o">&amp;&amp;</span> <span class="s1">&#39;number&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nx">replace</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s1">&#39;GameWindow.setInnerHTML: replace must be &#39;</span> <span class="o">+</span>
                                <span class="s1">&#39;string or number. Found: &#39;</span> <span class="o">+</span> <span class="nx">replace</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">mod</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">mod</span> <span class="o">=</span> <span class="s1">&#39;id&#39;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;string&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">mod</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">mod</span> <span class="o">!==</span> <span class="s1">&#39;g&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">mod</span> <span class="o">!==</span> <span class="s1">&#39;id&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">mod</span> <span class="o">!==</span> <span class="s1">&#39;className&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;GameWindow.setInnerHTML: invalid &#39;</span> <span class="o">+</span>
                                <span class="s1">&#39;mod value: &#39;</span> <span class="o">+</span> <span class="nx">mod</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s1">&#39;GameWindow.setInnerHTML: mod must be &#39;</span> <span class="o">+</span>
                                <span class="s1">&#39;string or undefined. Found: &#39;</span> <span class="o">+</span> <span class="nx">mod</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">mod</span> <span class="o">===</span> <span class="s1">&#39;id&#39;</span> <span class="o">||</span> <span class="nx">mod</span> <span class="o">===</span> <span class="s1">&#39;g&#39;</span><span class="p">)</span> <span class="p">{</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18">&#182;</a>
</div>
<p>Look by id.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>            <span class="nx">el</span> <span class="o">=</span> <span class="nx">W</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">search</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">el</span> <span class="o">&amp;&amp;</span> <span class="nx">el</span><span class="p">.</span><span class="nx">className</span> <span class="o">!==</span> <span class="nx">search</span><span class="p">)</span> <span class="nx">el</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">replace</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">mod</span> <span class="o">===</span> <span class="s1">&#39;className&#39;</span> <span class="o">||</span> <span class="nx">mod</span> <span class="o">===</span> <span class="s1">&#39;g&#39;</span><span class="p">)</span> <span class="p">{</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19">&#182;</a>
</div>
<p>Look by class name.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>            <span class="nx">el</span> <span class="o">=</span> <span class="nx">W</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="nx">search</span><span class="p">);</span>
            <span class="nx">len</span> <span class="o">=</span> <span class="nx">el</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">len</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
                <span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="o">++</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span> <span class="p">;</span> <span class="p">)</span> <span class="p">{</span>
                    <span class="nx">el</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">replace</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">};</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gamewindow.hide">
  <h2>
    <a href="#gamewindow.hide" class="pilcrow">&#182;</a>
    GameWindow.hide
  </h2>
</div>

  </div>
  <div class="body"><p>Gets and hides an HTML element</p>

<p>Sets the style of the display to 'none'</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">idOrObj</span>
      <span class="dox_type">string</span>
      <span class="dox_type">HTMLElement</span>
      <span>The id of or the HTML element itself</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">HTMLElement</span>
      <span>The hidden element, if found</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">getElement
  </span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="nx">GameWindow</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hide</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">idOrObj</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">el</span><span class="p">;</span>
        <span class="nx">el</span> <span class="o">=</span> <span class="nx">getElement</span><span class="p">(</span><span class="nx">idOrObj</span><span class="p">,</span> <span class="s1">&#39;GameWindow.hide&#39;</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">el</span><span class="p">)</span> <span class="nx">el</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">el</span><span class="p">;</span>
    <span class="p">};</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gamewindow.show">
  <h2>
    <a href="#gamewindow.show" class="pilcrow">&#182;</a>
    GameWindow.show
  </h2>
</div>

  </div>
  <div class="body"><p>Gets and shows (makes visible) an HTML element</p>

<p>Sets the style of the display to ''.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">idOrObj</span>
      <span class="dox_type">string</span>
      <span class="dox_type">HTMLElement</span>
      <span>The id of or the HTML element itself</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">display</span>
      <span class="dox_type">string</span>
      <span>Optional. The value of the display attribute.
   Default: '' (empty string).</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">HTMLElement</span>
      <span>The shown element, if found</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">getElement
  </span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="nx">GameWindow</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">show</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">idOrObj</span><span class="p">,</span> <span class="nx">display</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">el</span><span class="p">;</span>
        <span class="nx">display</span> <span class="o">=</span> <span class="nx">display</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;string&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nx">display</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s1">&#39;GameWindow.show: display must be &#39;</span> <span class="o">+</span>
                                <span class="s1">&#39;string or undefined&#39;</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">el</span> <span class="o">=</span> <span class="nx">getElement</span><span class="p">(</span><span class="nx">idOrObj</span><span class="p">,</span> <span class="s1">&#39;GameWindow.show&#39;</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">el</span><span class="p">)</span> <span class="nx">el</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="nx">display</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">el</span><span class="p">;</span>
    <span class="p">};</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gamewindow.toggle">
  <h2>
    <a href="#gamewindow.toggle" class="pilcrow">&#182;</a>
    GameWindow.toggle
  </h2>
</div>

  </div>
  <div class="body"><p>Gets and toggles the visibility of an HTML element</p>

<p>Sets the style of the display to ''.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">idOrObj</span>
      <span class="dox_type">string</span>
      <span class="dox_type">HTMLElement</span>
      <span>The id of or the HTML element itself</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">display</span>
      <span class="dox_type">string</span>
      <span>Optional. The value of the display attribute
   in case it will be set visible. Default: '' (empty string).</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">HTMLElement</span>
      <span>The toggled element, if found</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">getElement
  </span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="nx">GameWindow</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toggle</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">idOrObj</span><span class="p">,</span> <span class="nx">display</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">el</span><span class="p">;</span>
        <span class="nx">el</span> <span class="o">=</span> <span class="nx">getElement</span><span class="p">(</span><span class="nx">idOrObj</span><span class="p">,</span> <span class="s1">&#39;GameWindow.toggle&#39;</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">el</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">===</span> <span class="s1">&#39;none&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">display</span> <span class="o">=</span> <span class="nx">display</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;string&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nx">display</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s1">&#39;GameWindow.toggle: display must &#39;</span> <span class="o">+</span>
                                        <span class="s1">&#39;be string or undefined&#39;</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="nx">el</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="nx">display</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="nx">el</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">el</span><span class="p">;</span>
    <span class="p">};</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="helper-functions">
  <h2>
    <a href="#helper-functions" class="pilcrow">&#182;</a>
    Helper Functions
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="toggleinputs">
  <h3>
    <a href="#toggleinputs" class="pilcrow">&#182;</a>
    toggleInputs
  </h3>
</div>

  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="kd">function</span> <span class="nx">toggleInputs</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">container</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">inputTags</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="nx">len</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">inputs</span><span class="p">,</span> <span class="nx">nInputs</span><span class="p">;</span>
        <span class="nx">container</span> <span class="o">=</span> <span class="nx">container</span> <span class="o">||</span> <span class="nb">document</span><span class="p">;</span>
        <span class="nx">inputTags</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;button&#39;</span><span class="p">,</span> <span class="s1">&#39;select&#39;</span><span class="p">,</span> <span class="s1">&#39;textarea&#39;</span><span class="p">,</span> <span class="s1">&#39;input&#39;</span><span class="p">];</span>
        <span class="nx">len</span> <span class="o">=</span> <span class="nx">inputTags</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">inputs</span> <span class="o">=</span> <span class="nx">container</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">inputTags</span><span class="p">[</span><span class="nx">j</span><span class="p">]);</span>
            <span class="nx">nInputs</span> <span class="o">=</span> <span class="nx">inputs</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">nInputs</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25">&#182;</a>
</div>
<p>Set to state, or toggle.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>                <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">state</span> <span class="o">=</span> <span class="nx">inputs</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">disabled</span> <span class="o">?</span> <span class="kc">false</span> <span class="o">:</span> <span class="kc">true</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">inputs</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">disabled</span> <span class="o">=</span> <span class="nx">state</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">else</span> <span class="p">{</span>
                    <span class="nx">inputs</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">removeAttribute</span><span class="p">(</span><span class="s1">&#39;disabled&#39;</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="getelement">
  <h3>
    <a href="#getelement" class="pilcrow">&#182;</a>
    getElement
  </h3>
</div>

  </div>
  <div class="body"><p>Gets the element or returns it</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">The</span>
      <span class="dox_type">string</span>
      <span class="dox_type">HTMLElement</span>
      <span>id or the HTML element itself</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">HTMLElement</span>
      <span>The HTML Element</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">GameWindow.getElementById</span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="kd">function</span> <span class="nx">getElement</span><span class="p">(</span><span class="nx">idOrObj</span><span class="p">,</span> <span class="nx">prefix</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">el</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;string&#39;</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">idOrObj</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">el</span> <span class="o">=</span> <span class="nx">W</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">idOrObj</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">J</span><span class="p">.</span><span class="nx">isElement</span><span class="p">(</span><span class="nx">idOrObj</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">el</span> <span class="o">=</span> <span class="nx">idOrObj</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="nx">prefix</span> <span class="o">+</span> <span class="s1">&#39;: idOrObj must be string &#39;</span> <span class="o">+</span>
                                <span class="s1">&#39; or HTML Element. Found: &#39;</span> <span class="o">+</span> <span class="nx">idOrObj</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">el</span><span class="p">;</span>
    <span class="p">}</span>

<span class="p">})(</span></pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27">&#182;</a>
</div>
<p>GameWindow works only in the browser environment. The reference
to the node.js module object is for testing purpose only</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>    <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nb">window</span><span class="p">)</span> <span class="o">?</span> <span class="nb">window</span> <span class="o">:</span> <span class="nx">module</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">exports</span><span class="p">.</span><span class="nb">window</span><span class="p">,</span>
    <span class="p">(</span><span class="s1">&#39;undefined&#39;</span> <span class="o">!==</span> <span class="k">typeof</span> <span class="nb">window</span><span class="p">)</span> <span class="o">?</span> <span class="nb">window</span><span class="p">.</span><span class="nx">node</span> <span class="o">:</span> <span class="nx">module</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">exports</span><span class="p">.</span><span class="nx">node</span>
<span class="p">);</span>
</pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
